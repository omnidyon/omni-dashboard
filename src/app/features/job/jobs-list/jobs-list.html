<div class="jobs-container">
  <header class="jobs-header">
    <h1>Job Applications</h1>
    <div class="filters">
      <select [value]="statusFilter()" (change)="onStatusFilterChange($event)">
        <option value="ALL">All Jobs</option>
        <option value="NEW">New</option>
        <option value="APPLIED">Applied</option>
        <option value="REJECTED">Rejected</option>
        <option value="ARCHIVED">Archived</option>
      </select>
    </div>
  </header>

  @if (isLoading()) {
    <div class="loading-state">
      <p>Loading jobs...</p>
    </div>
  } @else {
    <div class="jobs-grid">
      @for (job of filteredJobs(); track job.id) {
        <div class="job-card">
          <div class="card-content" (click)="viewJobDetails(job.id)">
            <h3 class="job-title">{{ job.title }}</h3>
            <div class="job-meta">
              <span class="source">{{ job.source | uppercase }}</span>
              <span class="status" [class]="job.status.toLowerCase()">{{ job.status }}</span>
            </div>
            <p class="date">{{ job.createdAt | date:'medium' }}</p>
          </div>
          <button class="delete-btn" (click)="deleteJob($event, job.id)">Delete</button>
        </div>
      } @empty {
        <div class="empty-state">No jobs found</div>
      }
    </div>
  }
</div>